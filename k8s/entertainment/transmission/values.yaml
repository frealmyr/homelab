app:
  image:
    repository: lscr.io/linuxserver/transmission
    tag: latest

  environmentVariables:
    PUID: '1000'
    GUID: '1000'
    TZ: 'Europe/Oslo'
    TRANSMISSION_WEB_HOME: '/flood-for-transmission/'
    PEERPORT: '51413'

  persistentVolumes:
    static:
      - name: config
        mountPath: /config
      - name: downloads
        mountPath: /downloads

  containerPorts:
    - name: http
      containerPort: 9091
      protocol: TCP
    - name: peer-tcp
      containerPort: 51413
      protocol: TCP
    - name: peer-udp
      containerPort: 51413
      protocol: UDP

  services:
    - name: http
      type: ClusterIP
      ports:
        - name: https
          port: 9091
          targetPort: 9091
    - name: test
      type: NodePort
      ports:
        - name: test
          port: 9091
          targetPort: 9091
    - name: peer-tcp
      type: NodePort
      ports:
        - name: peer-0-tcp
          port: 51413
          targetPort: 51413
    - name: peer-udp
      type: NodePort
      ports:
        - name: peer-0-udp
          port: 51413
          targetPort: 51413
          protocol: UDP

  ingresses:
    enabled: true
    ingress:
      - name: frontend
        service:
          name: http
          port: 9091
        hosts:
          - host: transmission.fmlab.no
            paths:
              - path: /
                pathType: ImplementationSpecific
        tls:
          - secretName: transmission
            hosts:
              - transmission.fmlab.no
