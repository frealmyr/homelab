app:
  image:
    repository: linuxserver/sonarr
    tag: latest

  persistentVolumes:
    pvc:
      - name: config
        create: true
        size: 20Gi
        mounts:
          - path: /config
            subPath: config
    hostPath:
      - name: media
        mountPath: /media
        hostPath: /home/fredrick/media # TODO public user
        type: DirectoryOrCreate

  environmentVariables:
    PUID: 1000
    PGID: 1000
    TZ: Europe/Oslo

  containerPorts:
    - name: http
      containerPort: 8989
      protocol: TCP

  services:
    - name: http
      type: ClusterIP
      ports:
        - name: http
          port: 8989
          targetPort: 8989

  ingresses:
    enabled: true
    ingress:
      - name: frontend
        service:
          name: http
          port: 8989
        hosts:
          - host: sonarr.fmlab.no
            paths:
              - path: /
                pathType: ImplementationSpecific
        tls:
          - secretName: sonarr
            hosts:
              - sonarr.fmlab.no
