app:
  image:
    repository: lscr.io/linuxserver/sonarr
    tag: latest

  environmentVariables:
    - name: PID
      value: "1000"
    - name: PGID
      value: "1000"
    - name: TZ
      value: "Europe/Oslo"

  podSecurityContext:
    runAsUser: 1000
    runAsGroup: 1000
    fsGroup: 1000

  persistentVolumes:
    pvc:
      create: true
      size: 10Gi
      mounts:
        - path: /config
          subPath: config
    hostPath:
      - name: downloads
        mountPath: /media/downloads
        hostPath: /media/SSD2/Downloads
        type: Directory
      - name: anime
        mountPath: /media/anime
        hostPath: /media/SSD2/Anime
        type: Directory
      - name: tvseries
        mountPath: /media/tvseries
        hostPath: /media/SSD2/TV-Series
        type: Directory

  containerPorts:
    - name: http
      containerPort: 8989
      protocol: TCP

  services:
    - name: http
      type: ClusterIP
      ports:
        - name: http
          port: 8989
          targetPort: 8989

  ingresses:
    enabled: true
    ingress:
      - name: frontend
        service:
          name: http
          port: 8989
        hosts:
          - host: sonarr.fmlab.no
            paths:
              - path: /
                pathType: ImplementationSpecific
        forwardAuth: true
        tls:
          - secretName: sonarr-tls
            hosts:
              - sonarr.fmlab.no
