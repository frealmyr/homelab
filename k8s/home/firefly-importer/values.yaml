app:
  image:
    repository: fireflyiii/data-importer
    tag: latest

  environmentVariables:
    FIREFLY_III_URL: 'https://firefly.fmlab.no'
    TZ: 'Europe/Oslo'
    LOG_LEVEL: 'notice'
    TRUSTED_PROXIES: '*'

  secretEnvironmentVariables:
    - name: FIREFLY_III_ACCESS_TOKEN
      secret:
        name: credentials-importer-firefly
        key: access-token

  containerPorts:
    - name: http
      containerPort: 8080
      protocol: TCP

  services:
    - name: http
      type: ClusterIP
      ports:
        - name: http
          port: 8080
          targetPort: 8080

  ingresses:
    enabled: true
    ingress:
      - name: frontend
        service:
          name: http
          port: 8080
        hosts:
          - host: firefly-import.fmlab.no
            paths:
              - path: /
                pathType: ImplementationSpecific
        tls:
          - secretName: firefly-importer
            hosts:
              - firefly-import.fmlab.no
