app:
  image:
    repository: ghcr.io/hay-kot/homebox
    tag: v0.7.0

  persistentVolumes:
    pvc:
      - name: data
        create: true
        size: 20Gi
        mounts:
          - path: /data
            subPath: data

  environmentVariables:
    HBOX_LOG_LEVEL: info
    HBOX_LOG_FORMAT: text
    HBOX_WEB_MAX_UPLOAD_SIZE: 100
    HBOX_OPTIONS_ALLOW_REGISTRATION: true

  containerPorts:
    - name: http
      containerPort: 7745
      protocol: TCP

  services:
    - name: http
      type: ClusterIP
      ports:
        - name: http
          port: 7745
          targetPort: 7745

  ingresses:
    enabled: true
    ingress:
      - name: frontend
        service:
          name: http
          port: 7745
        hosts:
          - host: stuff.fmlab.no
            paths:
              - path: /
                pathType: ImplementationSpecific
        tls:
          - secretName: homebox
            hosts:
              - stuff.fmlab.no
