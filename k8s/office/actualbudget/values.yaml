app:
  image:
    repository: ghcr.io/actualbudget/actual-server
    tag: 22.10-alpine

  nodeSelector:
    kubernetes.io/hostname: k8s-worker-0

  persistentVolumes:
    static:
      - name: config
        mountPath: /data

  containerPorts:
    - name: http
      containerPort: 5006
      protocol: TCP

  services:
    - name: http
      type: ClusterIP
      ports:
        - name: http
          port: 5006
          targetPort: 5006

  ingresses:
    enabled: true
    ingress:
      - name: frontend
        service:
          name: http
          port: 5006
        hosts:
          - host: budget.fmlab.no
            paths:
              - path: /
                pathType: ImplementationSpecific
        tls:
          - secretName: actualbudget
            hosts:
              - budget.fmlab.no
