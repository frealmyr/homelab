app:
  image:
    repository: mariadb
    tag: 10

  persistentVolumes:
    pvc:
      - name: data
        create: true
        size: 25Gi
        mounts:
          - path: /var/lib/mysql
            subPath: mysql

  mountSecrets:
    - name: credentials-sql
      secretName: credentials-sql
      mountPath: /run/secrets/sql

  environmentVariables:
    - name: MARIADB_ROOT_PASSWORD_FILE
      value: "/run/secrets/sql/root_password"
    - name: MARIADB_USER_FILE
      value: "/run/secrets/sql/username"
    - name: MARIADB_PASSWORD_FILE
      value: "/run/secrets/sql/password"

  containerPorts:
    - name: mysql
      containerPort: 3306
      protocol: TCP

  services:
    - name: mysql
      type: ClusterIP
      ports:
        - name: mysql
          port: 3306
          targetPort: 3306
