app:
  image:
    repository: mariadb
    tag: 10

  persistentVolumes:
    pvc:
      - name: data
        create: true
        size: 25Gi
        mounts:
          - path: /var/lib/mysql
            subPath: mysql

  mountSecrets:
    - name: credentials-sql-root
      secretName: credentials-sql-root
      mountPath: /run/secrets/root
    - name: credentials-sql-crossplane
      secretName: credentials-sql-crossplane
      mountPath: /run/secrets/crossplane

  environmentVariables:
    - name: MARIADB_ROOT_PASSWORD_FILE
      value: "/run/secrets/root/root_password"
    - name: MARIADB_USER_FILE
      value: "/run/secrets/crossplane/username"
    - name: MARIADB_PASSWORD_FILE
      value: "/run/secrets/crossplane/password"

  containerPorts:
    - name: mysql
      containerPort: 3309
      protocol: TCP

  services:
    - name: mysql
      type: ClusterIP
      ports:
        - name: mysql
          port: 3309
          targetPort: 3309
