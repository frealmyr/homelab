---
- hosts: k8s_controller, k8s_workers
  become: true

  tasks:
    ## Note: removal of controller node taints is done in
    ## InitConfiguration during cluster creation

    # - name: kubectl - add taints to worker nodes
    #   shell: "KUBECONFIG=/etc/kubernetes/admin.conf kubectl taint nodes {{ ansible_hostname }} {{ item }}"
    #   become_user: fredrick
    #   when: "'k8s_workers' in group_names"
    #   with_items:
    #     - hostname={{ ansible_hostname }}:NoSchedule
